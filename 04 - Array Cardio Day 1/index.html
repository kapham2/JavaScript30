<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Array Cardio 💪🏻</title>
</head>
<body>
  <p><em>Psst: have a look at the JavaScript Console</em> 💁🏻‍ (option-⌘-j on a mac)</p>

  <p>
    <select id="category">
      <option value="inventors">Inventors 💡</option>
      <option value="boulevards">Boulevards in Paris</option>
      <option value="people">People</option>
      <option value="transportation">Modes of Transportation </option>
    </select>

    <select id="options">
      <option data-category="default" value="" selected></option>

      <option data-category="inventors" value="1">Born in 1500's</option>
      <option data-category="inventors" value="2">Full Names Only</option>
      <option data-category="inventors" value="3">Sort By Birthdate (👴🏻 to 👶🏻)</option>
      <option data-category="inventors" value="4">Sum Years Lived</option>
      <option data-category="inventors" value="5">Sort By Years Lived</option>

      <option data-category="boulevards" value="6" style="display: none">With 'de' in Name</option>

      <option data-category="people" value="7" style="display: none">Sort By Last Name</option>

      <option data-category="transportation" value="8" style="display: none">Sum Instances of All Modes</option>
    </select>

    <table id="data">

    </table>    

  </p>

  <style>
    body {
      text-align: center;
      font-size: 2vw;
      font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: lightgrey;
    }

    select {
      width: 30vw;
      height: 4vw;
      font-size: 2vw;
      box-shadow: 0 0 0.5vw darkgrey;
      border-radius: 0.25vw;
    }

    table {
      width: 80vw;
      margin-left: auto;
      margin-right: auto;
      background-color: white;
      box-shadow: 0 0 0.5vw darkgrey;
      border-radius: 0.25vw;
    }

    td {
      width: 20vw;
    }

  </style>

  <script>
    // Get your shorts on - this is an array workout!
    // ## Array Cardio Day 1

    // Some data we can work with

    const inventors = [
      { first: 'Albert', last: 'Einstein', year: 1879, passed: 1955 },
      { first: 'Isaac', last: 'Newton', year: 1643, passed: 1727 },
      { first: 'Galileo', last: 'Galilei', year: 1564, passed: 1642 },
      { first: 'Marie', last: 'Curie', year: 1867, passed: 1934 },
      { first: 'Johannes', last: 'Kepler', year: 1571, passed: 1630 },
      { first: 'Nicolaus', last: 'Copernicus', year: 1473, passed: 1543 },
      { first: 'Max', last: 'Planck', year: 1858, passed: 1947 },
      { first: 'Katherine', last: 'Blodgett', year: 1898, passed: 1979 },
      { first: 'Ada', last: 'Lovelace', year: 1815, passed: 1852 },
      { first: 'Sarah E.', last: 'Goode', year: 1855, passed: 1905 },
      { first: 'Lise', last: 'Meitner', year: 1878, passed: 1968 },
      { first: 'Hanna', last: 'Hammarström', year: 1829, passed: 1909 }
    ];

    const people = ['Beck, Glenn', 'Becker, Carl', 'Beckett, Samuel', 'Beddoes, Mick', 'Beecher, Henry', 'Beethoven, Ludwig', 'Begin, Menachem', 'Belloc, Hilaire', 'Bellow, Saul', 'Benchley, Robert', 'Benenson, Peter', 'Ben-Gurion, David', 'Benjamin, Walter', 'Benn, Tony', 'Bennington, Chester', 'Benson, Leana', 'Bent, Silas', 'Bentsen, Lloyd', 'Berger, Ric', 'Bergman, Ingmar', 'Berio, Luciano', 'Berle, Milton', 'Berlin, Irving', 'Berne, Eric', 'Bernhard, Sandra', 'Berra, Yogi', 'Berry, Halle', 'Berry, Wendell', 'Bethea, Erin', 'Bevan, Aneurin', 'Bevel, Ken', 'Biden, Joseph', 'Bierce, Ambrose', 'Biko, Steve', 'Billings, Josh', 'Biondo, Frank', 'Birrell, Augustine', 'Black, Elk', 'Blair, Robert', 'Blair, Tony', 'Blake, William'];

    // let category = document.querySelector("#category");
    // console.log(category.value);

    const optionSelected = document.querySelector("#options")
    // console.log(selectedOption)

    const options = document.querySelectorAll("#options option");
    // console.log(options);

    const dataTable = document.querySelector("#data");

    function updateCategory(e) {
      // console.log(e.target.value);
      const selectedCat = e.target.value

      updateOptions(selectedCat)
      
      updateDisplay(selectedCat)

      optionSelected.querySelector("option[data-category='default']").selected = true
    }

    function updateOptions(selectedCat) {
      Array.from(options).map(option => {
        // console.log(option.dataset.category);
        const cat = option.dataset.category;
        if (cat === selectedCat || cat === "default") {
          // console.log(option)
          option.style.display = ""
        }
        else {
          option.style.display = "none"
        }
      })
    }

    function updateDisplay(selectedCat) {
      if (selectedCat === "inventors") {
        showInventors()
      }
      else if (selectedCat === "boulevards") {
        showBoulevards()
      }
      else if (selectedCat === "people") {
        showPeople()
      }
      else {
        showTransportation()
      }
    }

    function showInventors() {
      let tableInnerHTML = "<tr><th>First</th><th>Last</th><th>👶🏻</th><th>💀</th></tr>"
      inventors.map((inventor) => {
        // console.log(inventor.first)
        tableInnerHTML +=`<tr><td>${inventor.first}</td><td>${inventor.last}</td><td>${inventor.year}</td><td>${inventor.passed}</td></tr>`;
      })
      // console.log(divInnerHTML)
      dataTable.innerHTML = tableInnerHTML;
    }

    function showBoulevards() {
      let tableInnerHTML = ""
      boulevards.map((boulevard) => {
        tableInnerHTML +=`<tr><td>${boulevard}</td></tr>`;
      })
      // console.log(divInnerHTML)
      dataTable.innerHTML = tableInnerHTML;
    }

    function showPeople() {
      // dataTable.innerHTML = "People";
      let tableInnerHTML = ""
      people.map((person) => {
        // console.log(inventor.first)
        tableInnerHTML +=`<tr><td>${person}</td></tr>`;
      })
      // console.log(divInnerHTML)
      dataTable.innerHTML = tableInnerHTML;
    }

    function showTransportation() {
      // dataTable.innerHTML = "Modes of Transportation";
      let tableInnerHTML = ""
      data.map((d) => {
        // console.log(inventor.first)
        let display;
        tableInnerHTML +=`<tr><td>${d}</td></tr>`;
      })
      // console.log(divInnerHTML)
      dataTable.innerHTML = tableInnerHTML;
    }

    function updateOptionSelected(e) {
      // console.log(e.target.value)
      const selected = e.target.value
      switch (selected) {
        case "1":
          inventorsBornIn1500s()
          break;
        case "2":
          inventorsFullNames()
          break;
        case "3":
          inventorsByBirthdate()
          break;
        case "4":
          inventorsSumYearsLived()
          break;
        case "5":
          inventorsByYearsLived()
          break;
        case "6":
          boulevardsWithDe()
          break;
        case "7":
          peopleByLastName()
          break;
        case "8":
          countModesOfTransportation()
          break;
      
        default:
          break;
      }
    }

    category.addEventListener('change', updateCategory)
    document.addEventListener('DOMContentLoaded', updateDisplay("inventors"))
    optionSelected.addEventListener('change', updateOptionSelected)

    // Array.prototype.filter()
    // 1. Filter the list of inventors for those who were born in the 1500's
    function inventorsBornIn1500s() {
      console.log("Inventors Born in 1500's");
      const inventorsBornIn1500s = inventors.filter(inventor => {
        return inventor.year >= 1500 && inventor.year < 1600;
      })
      
      console.table(inventorsBornIn1500s)
    }

    // Array.prototype.map()
    // 2. Give us an array of the inventors' first and last names
    function inventorsFullNames() {
      console.log("Inventors' Full Names Only")
      const inventorsFullNames = inventors.map(inventor => {
        return `${inventor.first} ${inventor.last}`
      })
  
      console.log(inventorsFullNames)
    }

    // Array.prototype.sort()
    // 3. Sort the inventors by birthdate, oldest to youngest
    function inventorsByBirthdate() {
      console.log("Sort Inventors By Birthdate (👴🏻 to 👶🏻)")
      const inventorsByBirthdate = inventors.sort((a, b) => {
        if (a.year > b.year) {
          return 1
        }
        else {
          return -1
        }
      })

      console.table(inventorsByBirthdate)
    }

    // Array.prototype.reduce()
    // 4. How many years did all the inventors live?
    function inventorsSumYearsLived() {
      console.log("Sum Years All Inventors Lived")
      const inventorsSumYearsLived = inventors.reduce((sum, inventor) => {
        return sum + (inventor.passed - inventor.year)
      }, 0)

      console.log(inventorsSumYearsLived)
    }


    // 5. Sort the inventors by years lived
    function inventorsByYearsLived() {
      console.log("Sort Inventors By Years Lived")
      const inventorsByYearsLived = inventors.sort((a, b) => {
        const aYearsLived = a.passed - a.year
        const bYearsLived = b.passed - b.year
        return aYearsLived > bYearsLived ? -1 : 1
      })

      console.table(inventorsByYearsLived);
    }

    // 6. create a list of Boulevards in Paris that contain 'de' anywhere in the name
    // https://en.wikipedia.org/wiki/Category:Boulevards_in_Paris
    // const container = document.querySelector(".mw-category")
    // const links = container.querySelectorAll("a")
    // const boulevards = Array.from(links).map(link => {
    //   return link.innerText
    // })
    const boulevards = ["Boulevards of Paris", "City walls of Paris", "Thiers wall", "Wall of Charles V", "Wall of Philip II Augustus", "City gates of Paris", "Haussmann's renovation of Paris", "Boulevards of the Marshals", "Boulevard Auguste-Blanqui", "Boulevard Barbès", "Boulevard Beaumarchais", "Boulevard de l'Amiral-Bruix", "Boulevard des Capucines", "Boulevard de la Chapelle", "Boulevard de Clichy", "Boulevard du Crime", "Boulevard Haussmann", "Boulevard de l'Hôpital", "Boulevard des Italiens", "Boulevard de la Madeleine", "Boulevard de Magenta", "Boulevard Montmartre", "Boulevard du Montparnasse", "Boulevard Raspail", "Boulevard Richard-Lenoir", "Boulevard de Rochechouart", "Boulevard Saint-Germain", "Boulevard Saint-Michel", "Boulevard de Sébastopol", "Boulevard de Strasbourg", "Boulevard du Temple", "Boulevard Voltaire", "Boulevard de la Zone"]

    function boulevardsWithDe() {
      console.log("Boulevards in Paris with 'de' in the Name")
      const boulevardsWithDe = boulevards.filter(boulevard => {
        return boulevard.includes("de")
      })

      console.log(boulevardsWithDe)
    }

    // 7. sort Exercise
    // Sort the people alphabetically by last name
    function peopleByLastName() {
      console.log("Sort Alphabetically by Last Name")
      const peopleByLastName = people.sort((a, b) => {
        return a > b ? 1 : -1
      })

      console.log(peopleByLastName)
    }

    // 8. Reduce Exercise
    // Sum up the instances of each of these
    // const data = ['car', 'car', 'truck', 'truck', 'bike', 'walk', 'car', 'van', 'bike', 'walk', 'car', 'van', 'car', 'truck' ];
    const data = ['🚗', '🚗', '🚚', '🚚', '🚲', '🚶🏻‍', '🚗', '🚐', '🚲', '🚶🏻‍', '🚗', '🚐', '🚗', '🚚' ];

    function countModesOfTransportation() {
      console.log("Sum Instances of All Modes of Transportation")
      const countModesOfTransportation = data.reduce((obj, mode) => {
        if (!obj[mode]) {
          obj[mode] = 0;
        }
        obj[mode]++
        return obj
      }, {})

      console.log(countModesOfTransportation)
    }

  </script>
</body>
</html>
